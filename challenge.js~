// James Perry Hartman
// Task 1

let output = '';

let place = $('.summary h1').html();
output += 'Destination: ' + place + '\n';

let dates = $('.search-dates').html();
let checkIn = dates.split('-')[0].trim();
output += 'Check in: ' + checkIn + '\n';
let checkOut = dates.split('-')[1].trim();
output += 'Check out: ' + checkOut + '\n';

console.log(output);

// Task 2

let $resultsContainer = $('.listings.infinite-scroll-enabled');
let list = $resultsContainer.children('li');

$( document ).ready(() => {
  $resultsContainer.prepend("<div class=\"running-total\"><li>" + list.length + "</li><p> hotels</p></div>");
})

$( document ).ajaxComplete(() => {
  list = $resultsContainer.children('li');
  $('.running-total li').html(list.length);
});

// Task 3
let $select = $('span:contains(Select)');
let $slidePanel = $('#slidePanel');
$slidePanel.append("<div id=\"selected-hotels\">Selected Hotels:<br/></div>");
let hotelList = [];
$select.on('click', (event) => {
  event.preventDefault();
  let $hotel = $event.currentTarget).closest('li');
  let name = $hotel.attr('data-title');
  let price = $hotel.children('.old-price-cont ins').html();
  if (!hotelList.includes($hotel)){
    $('#selected-hotels').append("<div>" + name + ": " + price + "</div>");
    hotelList.push($hotel);
  }
});

// <div class="compression-messaging">
//   <div class="percentage">
//     <svg class="circle" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox=" 0 0 110 110" preserveAspectRatio="none">
//       <circle cx="55" cy="55" r="52" class="stroke" stroke-width="6" stroke-dasharray="326.73" stroke-dashOffset="0" stroke-linecap="round"></circle>
//     </svg>
//     <div class="text">
//       <span>64%</span>
//     </div>
//   </div>
//   <div class="message-wrapper">
//     <div class="message">
//       <p>...<p>
//     </div>
//     <button class="cta icon icon-close"></button>
//   </div>
// </div>
